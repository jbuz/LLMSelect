"use strict";(self.webpackChunkllm_chat_frontend=self.webpackChunkllm_chat_frontend||[]).push([[421],{9421:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var r=n(6540);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e){var t=e.conversation,n=e.isActive,o=e.onSelect,i=e.onRename,c=e.onDelete,l=e.onExport,s=a((0,r.useState)(!1),2),u=s[0],m=s[1],f=a((0,r.useState)(t.title),2),v=f[0],d=f[1],p=a((0,r.useState)(!1),2),b=p[0],g=p[1],h=(0,r.useRef)(null);(0,r.useEffect)(function(){var e=function(e){h.current&&!h.current.contains(e.target)&&g(!1)};if(b)return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[b]);var y,E,C,N,S,w,k=function(){m(!0),g(!1)},A=function(){v.trim()&&v!==t.title&&i(v.trim()),m(!1)};return r.createElement("div",{className:"conversation-item ".concat(n?"active":""),onClick:o,onDoubleClick:function(e){e.stopPropagation(),u||k()}},u?r.createElement("input",{value:v,onChange:function(e){return d(e.target.value)},onBlur:A,onKeyDown:function(e){"Enter"===e.key?A():"Escape"===e.key&&(d(t.title),m(!1))},autoFocus:!0,className:"title-edit",onClick:function(e){return e.stopPropagation()}}):r.createElement(r.Fragment,null,r.createElement("div",{className:"conversation-header"},r.createElement("div",{className:"conversation-title"},t.title),r.createElement("button",{className:"menu-btn",onClick:function(e){e.stopPropagation(),g(!b)},"aria-label":"Conversation actions"},"â‹®")),r.createElement("div",{className:"conversation-meta"},r.createElement("span",{className:"provider-badge"},t.provider),r.createElement("span",{className:"timestamp"},(y=t.lastMessageAt,E=new Date(y),C=new Date-E,N=Math.floor(C/6e4),S=Math.floor(N/60),w=Math.floor(S/24),N<1?"Just now":N<60?"".concat(N,"m ago"):S<24?"".concat(S,"h ago"):w<7?"".concat(w,"d ago"):E.toLocaleDateString()))),t.preview&&r.createElement("div",{className:"conversation-preview"},t.preview),b&&r.createElement("div",{className:"context-menu",ref:h,onClick:function(e){return e.stopPropagation()}},r.createElement("button",{onClick:function(e){e.stopPropagation(),k()}},"âœï¸ Rename"),r.createElement("button",{onClick:function(e){e.stopPropagation(),l(),g(!1)}},"ðŸ“¥ Export"),r.createElement("button",{onClick:function(e){e.stopPropagation(),c(),g(!1)},className:"danger"},"ðŸ—‘ï¸ Delete"))))}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t,n,a=e.conversations,o=e.activeConversationId,l=e.onSelectConversation,s=e.onNewConversation,u=e.onRenameConversation,m=e.onDeleteConversation,f=e.onExportConversation,v=e.onSearch,d=e.isOpen,p=e.onToggle,b=(t=(0,r.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(t,n)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=b[0],h=b[1],y=(0,r.useCallback)(function(e){var t=e.target.value;h(t),v&&v(t)},[v]);return r.createElement("aside",{className:"conversation-sidebar ".concat(d?"open":"closed")},r.createElement("div",{className:"sidebar-header"},r.createElement("button",{onClick:p,className:"toggle-btn","aria-label":"Toggle sidebar"},d?"â—€":"â–¶"),r.createElement("button",{onClick:s,className:"new-conversation-btn"},"âž• New Chat")),r.createElement("div",{className:"search-box"},r.createElement("input",{type:"search",placeholder:"Search conversations...",value:g,onChange:y,"aria-label":"Search conversations"})),r.createElement("div",{className:"conversation-list"},0===a.length?r.createElement("div",{className:"empty-state"},r.createElement("p",null,"No conversations yet")):a.map(function(e){return r.createElement(i,{key:e.id,conversation:e,isActive:e.id===o,onSelect:function(){return l(e.id)},onRename:function(t){return u(e.id,t)},onDelete:function(){return m(e.id)},onExport:function(){return f(e.id)}})})))}}}]);