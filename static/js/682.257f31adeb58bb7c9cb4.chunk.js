/*! For license information please see 682.257f31adeb58bb7c9cb4.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkllm_chat_frontend=self.webpackChunkllm_chat_frontend||[]).push([[682],{1087:(e,t,r)=>{r.d(t,{A:()=>f});var n=r(6540),o=r(9575),a=r(8969),i=r(7101),l=r(222),c=["node","inline","className","children"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(null,arguments)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var m=(0,n.memo)(function(e){var t,r,m=e.content,f=(t=(0,n.useState)(null),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=f[0],p=f[1],v=(0,n.useCallback)(function(e,t){navigator.clipboard.writeText(e).then(function(){p(t),setTimeout(function(){return p(null)},2e3)}).catch(function(e){console.error("Failed to copy:",e)})},[]),y=(0,n.useMemo)(function(){return{code:function(e){e.node;var t=e.inline,r=e.className,o=e.children,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,c),s=/language-(\w+)/.exec(r||""),m=String(o).replace(/\n$/,""),f=s?s[1]:"",p="".concat(f,"-").concat(m.slice(0,20));return!t&&s?n.createElement("div",{className:"code-block-wrapper",style:{position:"relative",marginBottom:"1rem"}},n.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#1e1e1e",padding:"0.5rem 1rem",borderTopLeftRadius:"0.5rem",borderTopRightRadius:"0.5rem",fontSize:"0.875rem",color:"#d4d4d4"}},n.createElement("span",null,f),n.createElement("button",{onClick:function(){return v(m,p)},style:{backgroundColor:"transparent",border:"1px solid #444",borderRadius:"0.25rem",padding:"0.25rem 0.75rem",color:"#d4d4d4",cursor:"pointer",fontSize:"0.875rem"}},d===p?"‚úì Copied!":"Copy")),n.createElement(i.A,u({style:l.A,language:f,PreTag:"div",customStyle:{margin:0,borderTopLeftRadius:0,borderTopRightRadius:0}},a),m)):n.createElement("code",u({className:r,style:{backgroundColor:"#2d2d2d",padding:"0.2rem 0.4rem",borderRadius:"0.25rem",fontSize:"0.9em"}},a),o)},table:function(e){var t=e.children;return n.createElement("div",{style:{overflowX:"auto",marginBottom:"1rem"}},n.createElement("table",{style:{borderCollapse:"collapse",width:"100%",border:"1px solid #444"}},t))},th:function(e){var t=e.children;return n.createElement("th",{style:{backgroundColor:"#2d2d2d",padding:"0.75rem",textAlign:"left",borderBottom:"2px solid #444"}},t)},td:function(e){var t=e.children;return n.createElement("td",{style:{padding:"0.75rem",borderBottom:"1px solid #333"}},t)},ul:function(e){var t=e.children;return n.createElement("ul",{style:{marginLeft:"1.5rem",marginBottom:"1rem"}},t)},ol:function(e){var t=e.children;return n.createElement("ol",{style:{marginLeft:"1.5rem",marginBottom:"1rem"}},t)},blockquote:function(e){var t=e.children;return n.createElement("blockquote",{style:{borderLeft:"4px solid #444",paddingLeft:"1rem",marginLeft:0,marginBottom:"1rem",color:"#aaa"}},t)},p:function(e){var t=e.children;return n.createElement("p",{style:{marginBottom:"1rem"}},t)},h1:function(e){var t=e.children;return n.createElement("h1",{style:{fontSize:"1.75rem",fontWeight:"bold",marginBottom:"1rem",marginTop:"1.5rem"}},t)},h2:function(e){var t=e.children;return n.createElement("h2",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"0.75rem",marginTop:"1.25rem"}},t)},h3:function(e){var t=e.children;return n.createElement("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.5rem",marginTop:"1rem"}},t)}}},[d,v]);return n.createElement("div",{className:"markdown-message"},n.createElement(o.oz,{remarkPlugins:[a.A],components:y},m))});m.displayName="MarkdownMessage";const f=m},6682:(e,t,r)=>{r.r(t),r.d(t,{default:()=>F});var n=r(6540);function o(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=(0,n.memo)(function(e){var t,r,i=e.selected,l=e.onChange,c=e.availableModels,u=void 0===c?[]:c,s=e.maxModels,m=void 0===s?4:s,f=e.minModels,d=void 0===f?2:f,p=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(t,r)||o(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=p[0],y=p[1],b=(0,n.useCallback)(function(e){i.some(function(t){return t.provider===e.provider&&t.model===e.model})?i.length>d&&l(i.filter(function(t){return!(t.provider===e.provider&&t.model===e.model)})):i.length<m&&l([].concat(function(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i),[e]))},[i,l,d,m]),h=(0,n.useCallback)(function(){return y(function(e){return!e})},[]),g=(0,n.useCallback)(function(){return y(!1)},[]);return n.createElement("div",{className:"model-selector"},n.createElement("div",{className:"selected-models"},i.map(function(e,t){return n.createElement("div",{key:"".concat(e.provider,"-").concat(e.model),className:"model-chip",style:{borderLeftColor:e.color}},n.createElement("span",{className:"model-label"},e.label),i.length>d&&n.createElement("button",{onClick:function(){return b(e)},className:"remove-btn",title:"Remove model"},"√ó"))}),i.length<m&&n.createElement("button",{onClick:h,className:"add-model-btn"},"+ Add Model")),v&&n.createElement("div",{className:"model-dropdown"},n.createElement("div",{className:"dropdown-header"},n.createElement("span",null,"Select a model to compare"),n.createElement("button",{onClick:g,className:"close-dropdown"},"√ó")),u.filter(function(e){return!i.some(function(t){return t.provider===e.provider&&t.model===e.model})}).map(function(e){return n.createElement("button",{key:"".concat(e.provider,"-").concat(e.model),onClick:function(){b(e),i.length+1>=m&&g()},className:"model-option"},n.createElement("span",{className:"model-indicator",style:{backgroundColor:e.color}}),n.createElement("span",{className:"model-name"},e.label))})))});i.displayName="ModelSelector";const l=i;var c=r(1087);function u(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var c=n&&n.prototype instanceof l?n:l,u=Object.create(c.prototype);return s(u,"_invoke",function(r,n,o){var a,l,c,u=0,s=o||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,l=0,c=e,f.n=r,i}};function d(r,n){for(l=r,c=n,t=0;!m&&u&&!o&&t<s.length;t++){var o,a=s[t],d=f.p,p=a[2];r>3?(o=p===n)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=r<2&&d<a[1])?(l=0,f.v=n,f.n=a[1]):d<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,f.n=p,l=0))}if(o||r>1)return i;throw m=!0,n}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),l=s,c=p;(t=l<2?e:c)||!m;){a||(l?l<3?(l>1&&(f.n=-1),d(l,c)):f.n=c:f.v=c);try{if(u=2,a){if(l||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=e}else if((t=(m=f.n<0)?c:r.call(n,f))!==i)break}catch(t){a=e,l=1,c=t}finally{u=1}}return{value:t,done:m}}}(r,o,a),!0),u}var i={};function l(){}function c(){}function m(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(s(t={},n,function(){return this}),t),d=m.prototype=l.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=m,s(d,"constructor",m),s(m,"constructor",c),c.displayName="GeneratorFunction",s(m,o,"GeneratorFunction"),s(d),s(d,o,"Generator"),s(d,n,function(){return this}),s(d,"toString",function(){return"[object Generator]"}),(u=function(){return{w:a,m:p}})()}function s(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}s=function(e,t,r,n){function a(t,r){s(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},s(e,t,r,n)}function m(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){m(a,n,o,i,l,"next",e)}function l(e){m(a,n,o,i,l,"throw",e)}i(void 0)})}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=(0,n.memo)(function(e){var t,r,o=e.provider,a=e.model,i=e.label,l=e.color,s=e.response,m=e.metadata,p=e.onVote,v=e.isPreferred,y=e.isStreaming,b=e.hasError,h=e.index,g=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=g[0],S=g[1],w=(0,n.useCallback)(f(u().m(function e(){var t;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.clipboard.writeText(s);case 1:S(!0),setTimeout(function(){return S(!1)},2e3),e.n=3;break;case 2:e.p=2,t=e.v,console.error("Failed to copy:",t);case 3:return e.a(2)}},e,null,[[0,2]])})),[s]),O=(0,n.useCallback)(function(){p&&p(h)},[p,h]),j=i||a;return n.createElement("div",{className:"response-card ".concat(v?"preferred":""," ").concat(y?"streaming":""," ").concat(b?"error":""),style:{borderColor:v?l:void 0}},n.createElement("div",{className:"response-header"},n.createElement("div",{className:"model-info"},n.createElement("h3",{className:"model-name",style:{color:l||void 0}},j),n.createElement("span",{className:"provider-badge"},o)),n.createElement("div",{className:"metadata"},y&&n.createElement("span",{className:"meta-item streaming-indicator",title:"Streaming in progress"},"‚ö° Streaming..."),!y&&void 0!==m.time&&n.createElement("span",{className:"meta-item",title:"Response time"},"‚è±Ô∏è ",m.time.toFixed(2),"s"),m.tokens>0&&n.createElement("span",{className:"meta-item",title:"Estimated tokens"},"üìä ",m.tokens),m.cost&&n.createElement("span",{className:"meta-item",title:"Estimated cost"},"üí∞ $",m.cost.toFixed(4)))),n.createElement("div",{className:"response-content"},b?n.createElement("div",{className:"error-message",style:{color:"#ff6b6b"}},s):n.createElement("div",null,n.createElement(c.A,{content:s}),y&&n.createElement("span",{className:"streaming-cursor",style:{display:"inline-block",width:"0.5rem",height:"1rem",backgroundColor:l||"#10a37f",marginLeft:"0.25rem",animation:"blink 1s infinite"}}))),n.createElement("div",{className:"response-actions"},n.createElement("button",{onClick:w,className:"action-btn copy-btn",title:"Copy response",disabled:y||b||!s},E?"‚úì Copied":"üìã Copy"),!y&&!b&&p&&n.createElement("button",{onClick:O,className:"action-btn vote-btn ".concat(v?"active":""),title:"Mark as preferred"},v?"‚≠ê Preferred":"üëç Prefer")))});p.displayName="ResponseCard";const v=p;var y=r(8582),b=r(8987);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(e,t,r){return(t=function(e){var t=function(e){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var c=n&&n.prototype instanceof l?n:l,u=Object.create(c.prototype);return O(u,"_invoke",function(r,n,o){var a,l,c,u=0,s=o||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,l=0,c=e,f.n=r,i}};function d(r,n){for(l=r,c=n,t=0;!m&&u&&!o&&t<s.length;t++){var o,a=s[t],d=f.p,p=a[2];r>3?(o=p===n)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=r<2&&d<a[1])?(l=0,f.v=n,f.n=a[1]):d<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,f.n=p,l=0))}if(o||r>1)return i;throw m=!0,n}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),l=s,c=p;(t=l<2?e:c)||!m;){a||(l?l<3?(l>1&&(f.n=-1),d(l,c)):f.n=c:f.v=c);try{if(u=2,a){if(l||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=e}else if((t=(m=f.n<0)?c:r.call(n,f))!==i)break}catch(t){a=e,l=1,c=t}finally{u=1}}return{value:t,done:m}}}(r,o,a),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(O(t={},n,function(){return this}),t),m=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,O(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e}return c.prototype=u,O(m,"constructor",u),O(u,"constructor",c),c.displayName="GeneratorFunction",O(u,o,"GeneratorFunction"),O(m),O(m,o,"Generator"),O(m,n,function(){return this}),O(m,"toString",function(){return"[object Generator]"}),(w=function(){return{w:a,m:f}})()}function O(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}O=function(e,t,r,n){function a(t,r){O(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},O(e,t,r,n)}function j(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=C(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function k(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var T=function(e){var t=N((0,n.useState)({}),2),r=t[0],o=t[1],a=N((0,n.useState)(!1),2),i=a[0],l=a[1],c=N((0,n.useState)(null),2),u=c[0],s=c[1],m=N((0,n.useState)(null),2),f=m[0],d=m[1],p=(0,n.useRef)({}),v=(0,n.useRef)(null),y=(0,n.useCallback)(function(){var e,t=(e=w().m(function e(t,r){var n,a,i,c,u,m,f,y,g,E,S,O,k,N,C,A,T;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.trim()&&!(r.length<2)){e.n=1;break}return s("Please enter a prompt and select at least 2 models"),e.a(2);case 1:return l(!0),s(null),o({}),d(null),p.current={},n={},r.forEach(function(e){var t="".concat(e.provider,"_").concat(e.model);n[t]={provider:e.provider,model:e.model,label:e.label,color:e.color,response:"",time:0,tokens:0,streaming:!0,error:!1},p.current[t]=n[t]}),o(n),e.p=2,v.current=new AbortController,a=b.A.get("csrf_access_token"),i=new URL("/api/v1/compare/stream",window.location.origin),c={"Content-Type":"application/json"},a&&(c["X-CSRF-Token"]=a),e.n=3,fetch(i,{method:"POST",headers:c,credentials:"include",body:JSON.stringify({prompt:t,providers:r.map(function(e){return{provider:e.provider,model:e.model}})}),signal:v.current.signal});case 3:if((u=e.v).ok){e.n=4;break}throw new Error("Failed to start streaming");case 4:m=u.body.getReader(),f=new TextDecoder,y="";case 5:return e.n=6,m.read();case 6:if(g=e.v,E=g.done,S=g.value,!E){e.n=7;break}return e.a(3,8);case 7:y+=f.decode(S,{stream:!0}),O=y.split("\n"),y=O.pop()||"",k=j(O);try{for(k.s();!(N=k.n()).done;)if((C=N.value).startsWith("data: "))try{A=JSON.parse(C.slice(6)),h(A)}catch(e){console.error("Failed to parse SSE data:",e)}}catch(e){k.e(e)}finally{k.f()}e.n=5;break;case 8:e.n=10;break;case 9:e.p=9,"AbortError"===(T=e.v).name?(console.log("Stream cancelled by user"),s("Streaming cancelled")):(console.error("Streaming error:",T.name),s("Streaming failed. Please try again.")),l(!1);case 10:return e.a(2)}},e,null,[[2,9]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){k(a,n,o,i,l,"next",e)}function l(e){k(a,n,o,i,l,"throw",e)}i(void 0)})});return function(e,r){return t.apply(this,arguments)}}(),[]),h=(0,n.useCallback)(function(e){var t=e.event,r=e.provider,n=e.model,a=e.chunk,i=e.time,c=e.first_chunk,u=e.error,s=e.comparisonId;if("start"===t)console.log("Stream started:",e);else if("chunk"===t&&r){var m="".concat(r,"_").concat(n);o(function(e){var t=e[m]||p.current[m],r=E(E({},t),{},{response:t.response+(a||""),time:i||t.time,streaming:!0});return p.current[m]=r,E(E({},e),{},S({},m,r))}),c&&console.log("First chunk received from ".concat(r," at ").concat(i,"s"))}else if("complete"===t&&r){var f="".concat(r,"_").concat(n),v=e.data||{};o(function(e){var t=E(E(E({},e[f]),v),{},{streaming:!1});return p.current[f]=t,E(E({},e),{},S({},f,t))})}else if("error"===t&&r){var y="".concat(r,"_").concat(n);o(function(e){var t=E(E({},e[y]),{},{response:u||"Provider request failed",error:!0,streaming:!1});return p.current[y]=t,E(E({},e),{},S({},y,t))})}else"done"===t&&(l(!1),s&&d(s))},[]),g=(0,n.useCallback)(function(){v.current&&(v.current.abort(),v.current=null),l(!1),s("Streaming cancelled")},[]);return{streamingResults:Object.values(r),isStreaming:i,error:u,comparisonId:f,startStreaming:y,cancelStreaming:g}};function P(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var c=n&&n.prototype instanceof l?n:l,u=Object.create(c.prototype);return x(u,"_invoke",function(r,n,o){var a,l,c,u=0,s=o||[],m=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,l=0,c=e,f.n=r,i}};function d(r,n){for(l=r,c=n,t=0;!m&&u&&!o&&t<s.length;t++){var o,a=s[t],d=f.p,p=a[2];r>3?(o=p===n)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=r<2&&d<a[1])?(l=0,f.v=n,f.n=a[1]):d<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,f.n=p,l=0))}if(o||r>1)return i;throw m=!0,n}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(m&&1===s&&d(s,p),l=s,c=p;(t=l<2?e:c)||!m;){a||(l?l<3?(l>1&&(f.n=-1),d(l,c)):f.n=c:f.v=c);try{if(u=2,a){if(l||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=e}else if((t=(m=f.n<0)?c:r.call(n,f))!==i)break}catch(t){a=e,l=1,c=t}finally{u=1}}return{value:t,done:m}}}(r,o,a),!0),u}var i={};function l(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(x(t={},n,function(){return this}),t),m=u.prototype=l.prototype=Object.create(s);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,x(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e}return c.prototype=u,x(m,"constructor",u),x(u,"constructor",c),c.displayName="GeneratorFunction",x(u,o,"GeneratorFunction"),x(m),x(m,o,"Generator"),x(m,n,function(){return this}),x(m,"toString",function(){return"[object Generator]"}),(P=function(){return{w:a,m:f}})()}function x(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}x=function(e,t,r,n){function a(t,r){x(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},x(e,t,r,n)}function _(e,t,r,n,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,o)}function M(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){_(a,n,o,i,l,"next",e)}function l(e){_(a,n,o,i,l,"throw",e)}i(void 0)})}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var G={openai:"#10a37f",anthropic:"#d97757",gemini:"#4285f4",mistral:"#f2a73b"};function F(e){var t=e.chatApi,r=e.providerModels,o=void 0===r?{}:r,a=(0,n.useMemo)(function(){var e=[];return Object.keys(o).forEach(function(t){var r=G[t]||"#666666";o[t].forEach(function(n){e.push({provider:t,model:n.id,label:n.name,color:r})})}),e},[o]),i=I((0,n.useState)(function(){var e=[];if(a.length>0){var t=a.find(function(e){return"openai"===e.provider}),r=a.find(function(e){return"anthropic"===e.provider});t&&e.push(t),r&&e.push(r),e.length<2&&a.slice(0,2-e.length).forEach(function(t){e.find(function(e){return e.provider===t.provider&&e.model===t.model})||e.push(t)})}return e}),2),c=i[0],u=i[1],s=I((0,n.useState)(""),2),m=s[0],f=s[1],d=I((0,n.useState)(null),2),p=d[0],b=d[1],h=(0,n.useMemo)(function(){var e=[];return Object.keys(o).forEach(function(t){var r=G[t]||"#666666";o[t].forEach(function(n){e.push({provider:t,model:n.id,label:n.name,color:r})})}),e},[o]),g=T(t),E=g.streamingResults,S=g.isStreaming,w=g.error,O=g.comparisonId,j=g.startStreaming,k=g.cancelStreaming,N=function(){var e=M(P().m(function e(t){return P().w(function(e){for(;;)switch(e.n){case 0:return f(t),b(null),e.n=1,j(t,c);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=M(P().m(function e(r){var n;return P().w(function(e){for(;;)switch(e.p=e.n){case 0:if(O){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,t.voteComparison(O,r);case 2:b(r),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Vote failed:",n);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}();return n.createElement("div",{className:"comparison-mode"},n.createElement("div",{className:"comparison-controls"},n.createElement("div",{className:"model-selector-wrapper"},n.createElement("label",null,"Models to Compare (",c.length,"/4)"),n.createElement(l,{selected:c,onChange:u,availableModels:h,maxModels:4,minModels:2})),n.createElement("div",{className:"prompt-input-wrapper"},n.createElement("label",null,"Prompt"),n.createElement(y.A,{onSendMessage:N,isLoading:S||c.length<2,placeholder:"Enter your prompt to compare models...",onCancel:S?k:void 0}))),w&&n.createElement("div",{className:"error-banner"},"‚ö†Ô∏è ",w),S&&0===E.length&&n.createElement("div",{className:"loading-state"},n.createElement("div",{className:"spinner"}),n.createElement("p",null,"Starting comparison with ",c.length," models...")),E.length>0&&n.createElement("div",{className:"comparison-results"},n.createElement("div",{className:"results-header"},n.createElement("h2",null,"Comparison Results ",S&&"(Streaming...)"),n.createElement("p",{className:"prompt-display"},'"',m,'"')),n.createElement("div",{className:"results-grid",style:{gridTemplateColumns:"repeat(".concat(Math.min(E.length,2),", 1fr)")}},E.map(function(e,t){return n.createElement(v,{key:"".concat(e.provider,"_").concat(e.model),provider:e.provider,model:e.model,label:e.label,color:e.color,response:e.response,metadata:{time:e.time,tokens:e.tokens},onVote:C,isPreferred:p===t,isStreaming:e.streaming,hasError:e.error,index:t})}))),0===E.length&&!S&&n.createElement("div",{className:"comparison-empty-state"},n.createElement("div",{className:"empty-state-icon"},"üîÑ"),n.createElement("h3",null,"Compare LLM Models Side-by-Side"),n.createElement("p",null,"Select 2-4 models above and enter a prompt to see how different models respond"),n.createElement("p",{className:"streaming-info"},"‚ú® Real-time streaming enabled - see responses as they're generated!")))}},8582:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(6540);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const a=function(e){var t,r,a=e.onSendMessage,i=e.isLoading,l=e.onCancel,c=e.placeholder,u=(t=(0,n.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=u[0],m=u[1],f=function(e){e.preventDefault(),s.trim()&&!i&&(a(s.trim()),m(""))};return n.createElement("form",{className:"message-input-form",onSubmit:f},n.createElement("div",{className:"input-container"},n.createElement("textarea",{className:"message-textarea",value:s,onChange:function(e){return m(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),f(e)):"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f(e))},placeholder:c||"Type your message... (Enter or Ctrl+Enter to send, Shift+Enter for new line)",disabled:i,rows:1,"aria-label":"Message input"}),i&&l?n.createElement("button",{type:"button",className:"cancel-button",onClick:function(){l&&l()},title:"Cancel streaming","aria-label":"Cancel streaming"},"‚úï"):n.createElement("button",{type:"submit",className:"send-button",disabled:!s.trim()||i,"aria-label":"Send message"},n.createElement("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor","aria-hidden":"true"},n.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})))))}}}]);