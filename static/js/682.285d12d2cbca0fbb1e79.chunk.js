/*! For license information please see 682.285d12d2cbca0fbb1e79.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkllm_chat_frontend=self.webpackChunkllm_chat_frontend||[]).push([[682],{6682:(e,t,r)=>{r.r(t),r.d(t,{default:()=>R});var n=r(6540);function o(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=(0,n.memo)(function(e){var t,r,i=e.selected,c=e.onChange,l=e.availableModels,u=void 0===l?[]:l,s=e.maxModels,f=void 0===s?4:s,m=e.minModels,d=void 0===m?2:m,p=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,r)||o(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=p[0],y=p[1],b=(0,n.useCallback)(function(e){i.some(function(t){return t.provider===e.provider&&t.model===e.model})?i.length>d&&c(i.filter(function(t){return!(t.provider===e.provider&&t.model===e.model)})):i.length<f&&c([].concat(function(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i),[e]))},[i,c,d,f]),h=(0,n.useCallback)(function(){return y(function(e){return!e})},[]),g=(0,n.useCallback)(function(){return y(!1)},[]);return n.createElement("div",{className:"model-selector"},n.createElement("div",{className:"selected-models"},i.map(function(e,t){return n.createElement("div",{key:"".concat(e.provider,"-").concat(e.model),className:"model-chip",style:{borderLeftColor:e.color}},n.createElement("span",{className:"model-label"},e.label),i.length>d&&n.createElement("button",{onClick:function(){return b(e)},className:"remove-btn",title:"Remove model"},"√ó"))}),i.length<f&&n.createElement("button",{onClick:h,className:"add-model-btn"},"+ Add Model")),v&&n.createElement("div",{className:"model-dropdown"},n.createElement("div",{className:"dropdown-header"},n.createElement("span",null,"Select a model to compare"),n.createElement("button",{onClick:g,className:"close-dropdown"},"√ó")),u.filter(function(e){return!i.some(function(t){return t.provider===e.provider&&t.model===e.model})}).map(function(e){return n.createElement("button",{key:"".concat(e.provider,"-").concat(e.model),onClick:function(){b(e),i.length+1>=f&&g()},className:"model-option"},n.createElement("span",{className:"model-indicator",style:{backgroundColor:e.color}}),n.createElement("span",{className:"model-name"},e.label))})))});i.displayName="ModelSelector";const c=i;var l=r(1087);function u(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var l=n&&n.prototype instanceof c?n:c,u=Object.create(l.prototype);return s(u,"_invoke",function(r,n,o){var a,c,l,u=0,s=o||[],f=!1,m={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,c=0,l=e,m.n=r,i}};function d(r,n){for(c=r,l=n,t=0;!f&&u&&!o&&t<s.length;t++){var o,a=s[t],d=m.p,p=a[2];r>3?(o=p===n)&&(l=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=r<2&&d<a[1])?(c=0,m.v=n,m.n=a[1]):d<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,m.n=p,c=0))}if(o||r>1)return i;throw f=!0,n}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,p),c=s,l=p;(t=c<2?e:l)||!f;){a||(c?c<3?(c>1&&(m.n=-1),d(c,l)):m.n=l:m.v=l);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=m.n<0)?l:r.call(n,m))!==i)break}catch(t){a=e,c=1,l=t}finally{u=1}}return{value:t,done:f}}}(r,o,a),!0),u}var i={};function c(){}function l(){}function f(){}t=Object.getPrototypeOf;var m=[][n]?t(t([][n]())):(s(t={},n,function(){return this}),t),d=f.prototype=c.prototype=Object.create(m);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,s(d,"constructor",f),s(f,"constructor",l),l.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(d),s(d,o,"Generator"),s(d,n,function(){return this}),s(d,"toString",function(){return"[object Generator]"}),(u=function(){return{w:a,m:p}})()}function s(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}s=function(e,t,r,n){function a(t,r){s(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},s(e,t,r,n)}function f(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){f(a,n,o,i,c,"next",e)}function c(e){f(a,n,o,i,c,"throw",e)}i(void 0)})}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=(0,n.memo)(function(e){var t,r,o=e.provider,a=e.model,i=e.label,c=e.color,s=e.response,f=e.metadata,p=e.onVote,v=e.isPreferred,y=e.isStreaming,b=e.hasError,h=e.index,g=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,r)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),S=g[0],E=g[1],w=(0,n.useCallback)(m(u().m(function e(){var t;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,navigator.clipboard.writeText(s);case 1:E(!0),setTimeout(function(){return E(!1)},2e3),e.n=3;break;case 2:e.p=2,t=e.v,console.error("Failed to copy:",t);case 3:return e.a(2)}},e,null,[[0,2]])})),[s]),O=(0,n.useCallback)(function(){p&&p(h)},[p,h]),j=i||a;return n.createElement("div",{className:"response-card ".concat(v?"preferred":""," ").concat(y?"streaming":""," ").concat(b?"error":""),style:{borderColor:v?c:void 0}},n.createElement("div",{className:"response-header"},n.createElement("div",{className:"model-info"},n.createElement("h3",{className:"model-name",style:{color:c||void 0}},j),n.createElement("span",{className:"provider-badge"},o)),n.createElement("div",{className:"metadata"},y&&n.createElement("span",{className:"meta-item streaming-indicator",title:"Streaming in progress"},"‚ö° Streaming..."),!y&&void 0!==f.time&&n.createElement("span",{className:"meta-item",title:"Response time"},"‚è±Ô∏è ",f.time.toFixed(2),"s"),f.tokens>0&&n.createElement("span",{className:"meta-item",title:"Estimated tokens"},"üìä ",f.tokens),f.cost&&n.createElement("span",{className:"meta-item",title:"Estimated cost"},"üí∞ $",f.cost.toFixed(4)))),n.createElement("div",{className:"response-content"},b?n.createElement("div",{className:"error-message",style:{color:"#ff6b6b"}},s):n.createElement("div",null,n.createElement(l.A,{content:s}),y&&n.createElement("span",{className:"streaming-cursor",style:{display:"inline-block",width:"0.5rem",height:"1rem",backgroundColor:c||"#10a37f",marginLeft:"0.25rem",animation:"blink 1s infinite"}}))),n.createElement("div",{className:"response-actions"},n.createElement("button",{onClick:w,className:"action-btn copy-btn",title:"Copy response",disabled:y||b||!s},S?"‚úì Copied":"üìã Copy"),!y&&!b&&p&&n.createElement("button",{onClick:O,className:"action-btn vote-btn ".concat(v?"active":""),title:"Mark as preferred"},v?"‚≠ê Preferred":"üëç Prefer")))});p.displayName="ResponseCard";const v=p;var y=r(8582),b=r(8987);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e,t,r){return(t=function(e){var t=function(e){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var l=n&&n.prototype instanceof c?n:c,u=Object.create(l.prototype);return O(u,"_invoke",function(r,n,o){var a,c,l,u=0,s=o||[],f=!1,m={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,c=0,l=e,m.n=r,i}};function d(r,n){for(c=r,l=n,t=0;!f&&u&&!o&&t<s.length;t++){var o,a=s[t],d=m.p,p=a[2];r>3?(o=p===n)&&(l=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=r<2&&d<a[1])?(c=0,m.v=n,m.n=a[1]):d<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,m.n=p,c=0))}if(o||r>1)return i;throw f=!0,n}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,p),c=s,l=p;(t=c<2?e:l)||!f;){a||(c?c<3?(c>1&&(m.n=-1),d(c,l)):m.n=l:m.v=l);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=m.n<0)?l:r.call(n,m))!==i)break}catch(t){a=e,c=1,l=t}finally{u=1}}return{value:t,done:f}}}(r,o,a),!0),u}var i={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(O(t={},n,function(){return this}),t),f=u.prototype=c.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,O(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,O(f,"constructor",u),O(u,"constructor",l),l.displayName="GeneratorFunction",O(u,o,"GeneratorFunction"),O(f),O(f,o,"Generator"),O(f,n,function(){return this}),O(f,"toString",function(){return"[object Generator]"}),(w=function(){return{w:a,m}})()}function O(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}O=function(e,t,r,n){function a(t,r){O(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},O(e,t,r,n)}function j(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=C(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function k(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return P(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var A=function(e){var t=N((0,n.useState)({}),2),r=t[0],o=t[1],a=N((0,n.useState)(!1),2),i=a[0],c=a[1],l=N((0,n.useState)(null),2),u=l[0],s=l[1],f=N((0,n.useState)(null),2),m=f[0],d=f[1],p=(0,n.useRef)({}),v=(0,n.useRef)(null),y=(0,n.useCallback)(function(){var e,t=(e=w().m(function e(t,r){var n,a,i,l,u,f,m,y,g,S,E,O,k,N,C,P,A;return w().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.trim()&&!(r.length<2)){e.n=1;break}return s("Please enter a prompt and select at least 2 models"),e.a(2);case 1:return c(!0),s(null),o({}),d(null),p.current={},n={},r.forEach(function(e){var t="".concat(e.provider,"_").concat(e.model);n[t]={provider:e.provider,model:e.model,label:e.label,color:e.color,response:"",time:0,tokens:0,streaming:!0,error:!1},p.current[t]=n[t]}),o(n),e.p=2,v.current=new AbortController,a=b.A.get("csrf_access_token"),i=new URL("/api/v1/compare/stream",window.location.origin),l={"Content-Type":"application/json"},a&&(l["X-CSRF-Token"]=a),e.n=3,fetch(i,{method:"POST",headers:l,credentials:"include",body:JSON.stringify({prompt:t,providers:r.map(function(e){return{provider:e.provider,model:e.model}})}),signal:v.current.signal});case 3:if((u=e.v).ok){e.n=4;break}throw new Error("Failed to start streaming");case 4:f=u.body.getReader(),m=new TextDecoder,y="";case 5:return e.n=6,f.read();case 6:if(g=e.v,S=g.done,E=g.value,!S){e.n=7;break}return e.a(3,8);case 7:y+=m.decode(E,{stream:!0}),O=y.split("\n"),y=O.pop()||"",k=j(O);try{for(k.s();!(N=k.n()).done;)if((C=N.value).startsWith("data: "))try{P=JSON.parse(C.slice(6)),h(P)}catch(e){console.error("Failed to parse SSE data:",e)}}catch(e){k.e(e)}finally{k.f()}e.n=5;break;case 8:e.n=10;break;case 9:e.p=9,"AbortError"===(A=e.v).name?(console.log("Stream cancelled by user"),s("Streaming cancelled")):(console.error("Streaming error:",A.name),s("Streaming failed. Please try again.")),c(!1);case 10:return e.a(2)}},e,null,[[2,9]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){k(a,n,o,i,c,"next",e)}function c(e){k(a,n,o,i,c,"throw",e)}i(void 0)})});return function(e,r){return t.apply(this,arguments)}}(),[]),h=(0,n.useCallback)(function(e){var t=e.event,r=e.provider,n=e.model,a=e.chunk,i=e.time,l=e.first_chunk,u=e.error,s=e.comparisonId;if("start"===t)console.log("Stream started:",e);else if("chunk"===t&&r){var f="".concat(r,"_").concat(n);o(function(e){var t=e[f]||p.current[f],r=S(S({},t),{},{response:t.response+(a||""),time:i||t.time,streaming:!0});return p.current[f]=r,S(S({},e),{},E({},f,r))}),l&&console.log("First chunk received from ".concat(r," at ").concat(i,"s"))}else if("complete"===t&&r){var m="".concat(r,"_").concat(n),v=e.data||{};o(function(e){var t=S(S(S({},e[m]),v),{},{streaming:!1});return p.current[m]=t,S(S({},e),{},E({},m,t))})}else if("error"===t&&r){var y="".concat(r,"_").concat(n);o(function(e){var t=S(S({},e[y]),{},{response:u||"Provider request failed",error:!0,streaming:!1});return p.current[y]=t,S(S({},e),{},E({},y,t))})}else"done"===t&&(c(!1),s&&d(s))},[]),g=(0,n.useCallback)(function(){v.current&&(v.current.abort(),v.current=null),c(!1),s("Streaming cancelled")},[]);return{streamingResults:Object.values(r),isStreaming:i,error:u,comparisonId:m,startStreaming:y,cancelStreaming:g}};function T(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var l=n&&n.prototype instanceof c?n:c,u=Object.create(l.prototype);return _(u,"_invoke",function(r,n,o){var a,c,l,u=0,s=o||[],f=!1,m={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,c=0,l=e,m.n=r,i}};function d(r,n){for(c=r,l=n,t=0;!f&&u&&!o&&t<s.length;t++){var o,a=s[t],d=m.p,p=a[2];r>3?(o=p===n)&&(l=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=r<2&&d<a[1])?(c=0,m.v=n,m.n=a[1]):d<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,m.n=p,c=0))}if(o||r>1)return i;throw f=!0,n}return function(o,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,p),c=s,l=p;(t=c<2?e:l)||!f;){a||(c?c<3?(c>1&&(m.n=-1),d(c,l)):m.n=l:m.v=l);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=m.n<0)?l:r.call(n,m))!==i)break}catch(t){a=e,c=1,l=t}finally{u=1}}return{value:t,done:f}}}(r,o,a),!0),u}var i={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(_(t={},n,function(){return this}),t),f=u.prototype=c.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,_(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,_(f,"constructor",u),_(u,"constructor",l),l.displayName="GeneratorFunction",_(u,o,"GeneratorFunction"),_(f),_(f,o,"Generator"),_(f,n,function(){return this}),_(f,"toString",function(){return"[object Generator]"}),(T=function(){return{w:a,m}})()}function _(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_=function(e,t,r,n){function a(t,r){_(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},_(e,t,r,n)}function x(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function M(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){x(a,n,o,i,c,"next",e)}function c(e){x(a,n,o,i,c,"throw",e)}i(void 0)})}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var F={openai:"#10a37f",anthropic:"#d97757",gemini:"#4285f4",mistral:"#f2a73b"};function R(e){var t=e.chatApi,r=e.providerModels,o=void 0===r?{}:r,a=(0,n.useMemo)(function(){var e=[];return Object.keys(o).forEach(function(t){var r=F[t]||"#666666";o[t].forEach(function(n){e.push({provider:t,model:n.id,label:n.name,color:r})})}),e},[o]),i=I((0,n.useState)(function(){var e=[];if(a.length>0){var t=a.find(function(e){return"openai"===e.provider}),r=a.find(function(e){return"anthropic"===e.provider});t&&e.push(t),r&&e.push(r),e.length<2&&a.slice(0,2-e.length).forEach(function(t){e.find(function(e){return e.provider===t.provider&&e.model===t.model})||e.push(t)})}return e}),2),l=i[0],u=i[1],s=I((0,n.useState)(""),2),f=s[0],m=s[1],d=I((0,n.useState)(null),2),p=d[0],b=d[1],h=(0,n.useMemo)(function(){var e=[];return Object.keys(o).forEach(function(t){var r=F[t]||"#666666";o[t].forEach(function(n){e.push({provider:t,model:n.id,label:n.name,color:r})})}),e},[o]),g=A(t),S=g.streamingResults,E=g.isStreaming,w=g.error,O=g.comparisonId,j=g.startStreaming,k=g.cancelStreaming,N=function(){var e=M(T().m(function e(t){return T().w(function(e){for(;;)switch(e.n){case 0:return m(t),b(null),e.n=1,j(t,l);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=M(T().m(function e(r){var n;return T().w(function(e){for(;;)switch(e.p=e.n){case 0:if(O){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,t.voteComparison(O,r);case 2:b(r),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Vote failed:",n);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}();return n.createElement("div",{className:"comparison-mode"},n.createElement("div",{className:"comparison-controls"},n.createElement("div",{className:"model-selector-wrapper"},n.createElement("label",null,"Models to Compare (",l.length,"/4)"),n.createElement(c,{selected:l,onChange:u,availableModels:h,maxModels:4,minModels:2})),n.createElement("div",{className:"prompt-input-wrapper"},n.createElement("label",null,"Prompt"),n.createElement(y.A,{onSendMessage:N,isLoading:E||l.length<2,placeholder:"Enter your prompt to compare models...",onCancel:E?k:void 0}))),w&&n.createElement("div",{className:"error-banner"},"‚ö†Ô∏è ",w),E&&0===S.length&&n.createElement("div",{className:"loading-state"},n.createElement("div",{className:"spinner"}),n.createElement("p",null,"Starting comparison with ",l.length," models...")),S.length>0&&n.createElement("div",{className:"comparison-results"},n.createElement("div",{className:"results-header"},n.createElement("h2",null,"Comparison Results ",E&&"(Streaming...)"),n.createElement("p",{className:"prompt-display"},'"',f,'"')),n.createElement("div",{className:"results-grid",style:{gridTemplateColumns:"repeat(".concat(Math.min(S.length,2),", 1fr)")}},S.map(function(e,t){return n.createElement(v,{key:"".concat(e.provider,"_").concat(e.model),provider:e.provider,model:e.model,label:e.label,color:e.color,response:e.response,metadata:{time:e.time,tokens:e.tokens},onVote:C,isPreferred:p===t,isStreaming:e.streaming,hasError:e.error,index:t})}))),0===S.length&&!E&&n.createElement("div",{className:"comparison-empty-state"},n.createElement("div",{className:"empty-state-icon"},"üîÑ"),n.createElement("h3",null,"Compare LLM Models Side-by-Side"),n.createElement("p",null,"Select 2-4 models above and enter a prompt to see how different models respond"),n.createElement("p",{className:"streaming-info"},"‚ú® Real-time streaming enabled - see responses as they're generated!")))}}}]);